decimation: 4
scene:
  num_envs: 4096
  env_spacing: 2.0
  terrain:
    terrain_type: plane
    terrain_generator: null
    env_spacing: 2.0
    max_init_terrain_level: 5
    num_envs: 4096
  entities:
    robot:
      init_state:
        pos: !!python/tuple
        - 0.0
        - 0.0
        - 0.278
        rot: !!python/tuple
        - 1.0
        - 0.0
        - 0.0
        - 0.0
        lin_vel: !!python/tuple
        - 0.0
        - 0.0
        - 0.0
        ang_vel: !!python/tuple
        - 0.0
        - 0.0
        - 0.0
        joint_pos:
          .*thigh_joint: 0.9
          .*calf_joint: -1.8
          .*R_hip_joint: 0.1
          .*L_hip_joint: -0.1
        joint_vel:
          .*: 0.0
      spec_fn: !!python/name:mjlab.asset_zoo.robots.unitree_go1.go1_constants.get_spec ''
      articulation:
        actuators: !!python/tuple
        - joint_names_expr: !!python/tuple
          - .*_hip_joint
          - .*_thigh_joint
          armature: 0.004026312
          frictionloss: 0.0
          stiffness: 15.89524265323492
          damping: 1.0119225759919113
          effort_limit: 23.7
        - joint_names_expr: !!python/tuple
          - .*_calf_joint
          armature: 0.009059202
          frictionloss: 0.0
          stiffness: 35.76429596977857
          damping: 2.2768257959818006
          effort_limit: 35.55
        soft_joint_pos_limit_factor: 0.9
      lights: !!python/tuple []
      cameras: !!python/tuple []
      textures: !!python/tuple []
      materials: !!python/tuple []
      collisions: !!python/tuple
      - geom_names_expr: !!python/tuple
        - .*_collision
        contype: 1
        conaffinity: 0
        condim:
          ^[FR][LR]_foot_collision$: 3
          .*_collision: 1
        priority:
          ^[FR][LR]_foot_collision$: 1
        friction:
          ^[FR][LR]_foot_collision$: !!python/tuple
          - 0.6
        solref: null
        solimp:
          ^[FR][LR]_foot_collision$: !!python/tuple
          - 0.9
          - 0.95
          - 0.023
        disable_other_geoms: true
      debug_vis: false
  sensors: !!python/tuple
  - name: feet_ground_contact
    primary:
      mode: geom
      pattern: !!python/tuple
      - FR_foot_collision
      - FL_foot_collision
      - RR_foot_collision
      - RL_foot_collision
      entity: robot
      exclude: !!python/tuple []
    secondary:
      mode: body
      pattern: terrain
      entity: null
      exclude: !!python/tuple []
    fields: !!python/tuple
    - found
    - force
    reduce: netforce
    num_slots: 1
    secondary_policy: first
    track_air_time: true
    global_frame: false
    debug: false
  - name: nonfoot_ground_touch
    primary:
      mode: geom
      pattern: .*_collision\d*$
      entity: robot
      exclude: !!python/tuple
      - FR_foot_collision
      - FL_foot_collision
      - RR_foot_collision
      - RL_foot_collision
    secondary:
      mode: body
      pattern: terrain
      entity: null
      exclude: !!python/tuple []
    fields: !!python/tuple
    - found
    reduce: none
    num_slots: 1
    secondary_policy: first
    track_air_time: false
    global_frame: false
    debug: false
  extent: 2.0
observations:
  policy:
    terms:
      projected_gravity:
        func: &id001 !!python/name:mjlab.tasks.velocity.mdp.observations.projected_gravity ''
        params: {}
        noise:
          operation: add
          n_min: -0.05
          n_max: 0.05
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_pos:
        func: &id002 !!python/name:mjlab.tasks.velocity.mdp.observations.joint_pos_rel ''
        params: {}
        noise:
          operation: add
          n_min: -0.01
          n_max: 0.01
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_lin_vel:
        func: &id003 !!python/name:mjlab.tasks.velocity.mdp.observations.base_lin_vel ''
        params: {}
        noise:
          operation: add
          n_min: -0.5
          n_max: 0.5
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_ang_vel:
        func: &id004 !!python/name:mjlab.tasks.velocity.mdp.observations.base_ang_vel ''
        params: {}
        noise:
          operation: add
          n_min: -0.2
          n_max: 0.2
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_vel_rel:
        func: &id005 !!python/name:mjlab.tasks.velocity.mdp.observations.joint_vel_rel ''
        params: {}
        noise:
          operation: add
          n_min: -1.5
          n_max: 1.5
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      last_action:
        func: &id006 !!python/name:mjlab.tasks.velocity.mdp.observations.last_action ''
        params: {}
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      generated_commands:
        func: &id007 !!python/name:mjlab.tasks.velocity.mdp.observations.generated_commands ''
        params:
          command_name: twist
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
    concatenate_terms: true
    concatenate_dim: -1
    enable_corruption: true
    history_length: null
    flatten_history_dim: true
  critic:
    terms:
      projected_gravity:
        func: *id001
        params: {}
        noise:
          operation: add
          n_min: -0.05
          n_max: 0.05
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_pos:
        func: *id002
        params: {}
        noise:
          operation: add
          n_min: -0.01
          n_max: 0.01
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_lin_vel:
        func: *id003
        params: {}
        noise:
          operation: add
          n_min: -0.5
          n_max: 0.5
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_ang_vel:
        func: *id004
        params: {}
        noise:
          operation: add
          n_min: -0.2
          n_max: 0.2
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_vel_rel:
        func: *id005
        params: {}
        noise:
          operation: add
          n_min: -1.5
          n_max: 1.5
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      last_action:
        func: *id006
        params: {}
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      generated_commands:
        func: *id007
        params:
          command_name: twist
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
    concatenate_terms: true
    concatenate_dim: -1
    enable_corruption: true
    history_length: null
    flatten_history_dim: true
actions:
  joint_pos:
    class_type: !!python/name:mjlab.envs.mdp.actions.joint_actions.JointPositionAction ''
    asset_name: robot
    clip: null
    actuator_names: !!python/tuple
    - .*
    scale:
      .*_hip_joint: 0.3727530387083568
      .*_thigh_joint: 0.3727530387083568
      .*_calf_joint: 0.24850202580557115
    offset: 0.0
    preserve_order: false
    use_default_offset: true
events:
  reset_base:
    func: !!python/name:mjlab.envs.mdp.events.reset_root_state_uniform ''
    params:
      pose_range:
        x: !!python/tuple
        - -0.5
        - 0.5
        y: !!python/tuple
        - -0.5
        - 0.5
        yaw: !!python/tuple
        - -3.14
        - 3.14
      velocity_range: {}
    mode: reset
    interval_range_s: null
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: false
  reset_robot_joints:
    func: !!python/name:mjlab.envs.mdp.events.reset_joints_by_offset ''
    params:
      position_range: !!python/tuple
      - -1.0
      - 1.0
      velocity_range: !!python/tuple
      - 0.0
      - 0.0
      asset_cfg:
        name: robot
        joint_names: !!python/tuple
        - .*
        joint_ids:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 10
        - 11
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
    mode: reset
    interval_range_s: null
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: false
  foot_friction_rand:
    func: !!python/name:mjlab.envs.mdp.events.randomize_field ''
    params:
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: !!python/tuple
        - FR_foot_collision
        - FL_foot_collision
        - RR_foot_collision
        - RL_foot_collision
        geom_ids:
        - 12
        - 22
        - 32
        - 42
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
      field: geom_friction
      ranges: !!python/tuple
      - 0.3
      - 1.2
      operation: abs
    mode: startup
    interval_range_s: null
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: true
  perturbations_rand:
    func: !!python/name:mjlab.envs.mdp.events.push_by_setting_velocity ''
    params:
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
      velocity_range:
        x: !!python/tuple
        - -0.5
        - 0.5
        y: !!python/tuple
        - -0.5
        - 0.5
    mode: interval
    interval_range_s: !!python/tuple
    - 1.0
    - 3.0
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: true
seed: null
sim:
  nconmax: 35
  njmax: 300
  ls_parallel: true
  contact_sensor_maxmatch: 64
  mujoco:
    timestep: 0.005
    integrator: implicitfast
    impratio: 1.0
    cone: pyramidal
    jacobian: auto
    solver: newton
    iterations: 10
    tolerance: 1.0e-08
    ls_iterations: 20
    ls_tolerance: 0.01
    gravity: !!python/tuple
    - 0
    - 0
    - -9.81
  nan_guard:
    enabled: false
    buffer_size: 100
    output_dir: /tmp/mjlab/nan_dumps
    max_envs_to_dump: 5
viewer:
  lookat: !!python/tuple
  - 0.0
  - 0.0
  - 0.0
  distance: 1.5
  elevation: -10.0
  azimuth: 90.0
  origin_type: !!python/object/apply:mjlab.viewer.viewer_config.OriginType
  - 3
  asset_name: robot
  body_name: trunk
  env_idx: 0
  enable_reflections: true
  enable_shadows: true
  height: 240
  width: 320
episode_length_s: 20.0
rewards:
  lin_vel:
    func: !!python/name:mjlab.tasks.velocity.mdp.rewards.track_linear_velocity ''
    params:
      std: 0.5
      command_name: twist
    weight: 2.0
  ang_vel:
    func: !!python/name:mjlab.tasks.velocity.mdp.rewards.track_angular_velocity ''
    params:
      std: 0.5
      command_name: twist
    weight: 2.0
  upright:
    func: !!python/name:mjlab.tasks.velocity.mdp.rewards.flat_orientation ''
    params:
      std: 0.4472135954999579
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: !!python/tuple
        - trunk
        body_ids:
        - 0
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
    weight: 1.0
  base_z:
    func: !!python/name:mjlab.tasks.velocity.mdp.rewards.base_z ''
    params:
      std: 0.4472135954999579
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: !!python/tuple
        - trunk
        body_ids:
        - 0
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
    weight: 1.0
  action_rate_l2:
    func: !!python/name:mjlab.envs.mdp.rewards.action_rate_l2 ''
    params: {}
    weight: -0.1
  joint_pos_limits:
    func: !!python/name:mjlab.envs.mdp.rewards.joint_pos_limits ''
    params:
      asset_cfg:
        name: robot
        joint_names: !!python/tuple
        - .*
        joint_ids:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 10
        - 11
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
    weight: -1.0
  default_joint_position:
    func: !!python/name:mjlab.tasks.velocity.mdp.rewards.default_joint_position ''
    params:
      asset_cfg:
        name: robot
        joint_names: !!python/tuple
        - .*
        joint_ids:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 10
        - 11
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
    weight: -1.0
terminations:
  time_out:
    func: !!python/name:mjlab.envs.mdp.terminations.time_out ''
    params: {}
    time_out: true
  fell_over:
    func: !!python/name:mjlab.tasks.velocity.mdp.terminations.bad_orientation ''
    params:
      limit_angle: 1.0471975511965976
    time_out: false
  illegal_contact:
    func: !!python/name:mjlab.tasks.velocity.mdp.terminations.illegal_contact ''
    params:
      sensor_name: nonfoot_ground_touch
    time_out: false
commands:
  twist:
    class_type: !!python/name:mjlab.tasks.velocity.mdp.velocity_command.UniformVelocityCommand ''
    resampling_time_range: !!python/tuple
    - 0.3
    - 0.8
    debug_vis: false
    asset_name: robot
    heading_command: true
    heading_control_stiffness: 1.0
    rel_standing_envs: 0.1
    rel_heading_envs: 0.3
    init_velocity_prob: 0.0
    ranges:
      lin_vel_x: !!python/tuple
      - -1.0
      - 1.0
      lin_vel_y: !!python/tuple
      - -1.0
      - 1.0
      ang_vel_z: !!python/tuple
      - -1.0
      - 1.0
      heading: !!python/tuple
      - -3.141592653589793
      - 3.141592653589793
    viz:
      z_offset: 0.2
      scale: 0.5
curriculum: null
is_finite_horizon: false
